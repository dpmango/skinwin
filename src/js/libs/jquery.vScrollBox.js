// Generated by CoffeeScript 1.12.3
(function() {
  var $, D, W;

  $ = jQuery;

  W = window;

  D = document;

  W.VScrollBox = (function() {
    function VScrollBox(selector1) {
      this.selector = selector1;
      this.jBox = $(this.selector);
    }

    VScrollBox.instance = function(selector) {
      var inst;
      inst = new this(selector);
      inst.init();
      return inst;
    };

    VScrollBox.prototype.update = function() {
      return $(W).trigger('resize');
    };

    VScrollBox.prototype.init = function() {
      this.jBox.each(function() {
        var jBar, jMarker, jWrap, scrollerHeight;
        console.log(1);
        jWrap = $(this).children('.v-scroll-box-wrap');
        jBar = $(this).children('.v-scroll-box-bar');
        jMarker = jBar.children('div');
        scrollerHeight = jBar.height() * jWrap.height() / jWrap.get(0).scrollHeight;
        jMarker.css({
          height: scrollerHeight + "px",
          display: scrollerHeight >= jBar.height() ? 'none' : 'block'
        });
        $(W).resize(function() {
          scrollerHeight = jBar.height() * jWrap.height() / jWrap.get(0).scrollHeight;
          return jMarker.css({
            height: scrollerHeight + "px",
            display: scrollerHeight >= jBar.height() ? 'none' : 'block'
          });
        });
        return jWrap.on('scroll', function() {
          var pK, sT;
          sT = jWrap.scrollTop();
          pK = sT / ((jWrap.get(0).scrollHeight - jWrap.height()) / 100);
          return jMarker.css('transform', "translateY(" + ((jBar.height() - scrollerHeight) / 100 * pK) + "px)");
        });
      });
    };

    return VScrollBox;

  })();

}).call(this);

//# sourceMappingURL=jquery.vScrollBox.js.map
